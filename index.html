
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome file</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="documentation-for-js-puppetter-scraper">Documentation for js-puppetter-scraper</h1>
<p><strong>js-puppetter-scraper</strong> is a <strong>nodejs package</strong> based on puppeteer library.The main dependency for the project is <strong>puppetter</strong>.<br>
Install puppetter using :</p>
<pre><code>	npm i puppetter
</code></pre>
<p>The Structure of project is:</p>
<pre><code>		Scraper
		├── README.md
		├── example
		|  └── example.js //a basic command line utility 
		├── out.txt
		├── package-lock.json
		├── package.json
		├── src
		|  ├── index.js	//entry point for project
		|  └── scraper.js
		└── test
		   └── test.js

directory: 211 file: 8 
</code></pre>
<p>The project consist of two files:</p>
<ol>
<li>Index.js</li>
<li>scraper.js</li>
</ol>
<h2 id="index.js">Index.js</h2>
<p>index.js is the entry point of project which consist of two functions initiated inside main class</p>
<pre><code>	class  main{

		constructor(){

		this.runInfiniteScrollPagination  =  async (url,filename)={
			...
			};

		this.runPageWisePagination  =  async (url,filename,maxPagesToScrap) =&gt; {
			...
			};	
		}
	}
	
	module.exports = main;
</code></pre>
<p>The input required for runInfiniteScrollPagination() is <strong>url</strong> and <strong>filename</strong><br>
The input required for runPageWisePagination() is <strong>url</strong> ,<strong>filename</strong> and <strong>maxPagesToScrap</strong></p>
<h1 id="scraper.js">scraper.js</h1>
<pre><code>class  scraper{

		constructor(){

			this.scrapeData  =  async (url,filename)={
			...
			};

			this.WebListscraper  =  async (url,filename,maxPagesToScrap) =&gt; {
			...
			};	
			this.scrapeInfiniteScrollItems  =  async (url,filename,maxPagesToScrap) =&gt; {
			...
			};	
		}
	}
	module.exports = scraper;
</code></pre>
<p>This module is used for scraping and extracting data and comprises of three different functions</p>
<h2 id="output">Output</h2>
<p>The output of project will be <code>&lt;filename&gt;.json</code> file stored in root project.</p>
<h2 id="running--test-files">Running  Test Files</h2>
<p>Unit Test has been done using <strong>Mocha+Chai</strong> . The test script can be called using</p>
<pre><code>				npm test
</code></pre>
<p>The test output will be saved as <strong>testdata.json</strong></p>
<h2 id="check-out-few-examples">Check out few examples</h2>
<p><em><strong>1 ) Scraper for infinite scrolling</strong></em></p>
<pre><code>node example/example.js --pagination 'infinte_scrolling' --url '&lt;some_url&gt;' --filename 'file_name' --type 'scraper_type' c
</code></pre>
<p>Example:</p>
<pre><code>node example/example.js --pagination infinite_scrolling --url 'https://www.burrp.com/delhi/phase-v-restaurants/nearby-offers' --filename data2.json --type housing
</code></pre>
<p><em><strong>2) Scraping page wise</strong></em></p>
<pre><code>node example/example.js --pagination 'page_wise' --url '&lt;some_url&gt;' --filename 'file_name' --type 'scraper_type' --pagecount 'no_of_pages_to scrap'
</code></pre>
<p>Example:</p>
<pre><code>node example/example.js --pagination page_wise --url 'https://www.booking.com/searchresults.html?aid=304142&amp;label=gen173nr-1FCAEoggJCAlhYSDNYBGhsiAEBmAExuAEHyAEM2AEB6AEB-AECkgIBeagCAw&amp;sid=caa43958feeb7988ce08164373a68dbb&amp;class_interval=1&amp;dest_id=866&amp;dest_type=region&amp;dtdisc=0&amp;from_sf=1&amp;group_adults=2&amp;group_children=0&amp;inac=0&amp;index_postcard=0&amp;label_click=undef&amp;lsf=class%7C4%7C639&amp;nflt=class=5;class=4;class=3;&amp;no_rooms=1&amp;order=class&amp;postcard=0&amp;raw_dest_type=region&amp;region=866&amp;room1=A,A&amp;sb_price_type=total&amp;ss_all=0&amp;ssb=empty&amp;sshis=0&amp;rows=15&amp;offset=0' --filename data3.json --type housing --pagecount 2
</code></pre>
</div>
</body>

</html>
